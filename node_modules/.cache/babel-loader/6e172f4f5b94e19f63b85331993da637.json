{"ast":null,"code":"import _defineProperty from \"/Users/xiuhuiwang/Documents/USF/CS686_CloudComputing/final/mld/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/xiuhuiwang/Documents/USF/CS686_CloudComputing/final/mld/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/xiuhuiwang/Documents/USF/CS686_CloudComputing/final/mld/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport * as cookie from 'cookie';\nimport { hasDocumentCookie, parseCookies, readCookie } from './utils';\n\nvar Cookies = /*#__PURE__*/function () {\n  function Cookies(cookies) {\n    var _this = this;\n\n    var defaultSetOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Cookies);\n\n    this.changeListeners = [];\n    this.HAS_DOCUMENT_COOKIE = false;\n\n    this.update = function () {\n      if (!_this.HAS_DOCUMENT_COOKIE) {\n        return;\n      }\n\n      var previousCookies = _this.cookies;\n      _this.cookies = cookie.parse(document.cookie);\n\n      _this._checkChanges(previousCookies);\n    };\n\n    var domCookies = typeof document === 'undefined' ? '' : document.cookie;\n    this.cookies = parseCookies(cookies || domCookies);\n    this.defaultSetOptions = defaultSetOptions;\n    this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\n  }\n\n  _createClass(Cookies, [{\n    key: \"_emitChange\",\n    value: function _emitChange(params) {\n      for (var i = 0; i < this.changeListeners.length; ++i) {\n        this.changeListeners[i](params);\n      }\n    }\n  }, {\n    key: \"_checkChanges\",\n    value: function _checkChanges(newCookies) {\n      var _this2 = this;\n\n      var names = new Set(Object.keys(newCookies).concat(Object.keys(this.cookies)));\n      names.forEach(function (name) {\n        if (newCookies[name] !== _this2.cookies[name]) {\n          _this2._emitChange({\n            name: name,\n            value: readCookie(newCookies[name])\n          });\n        }\n      });\n    }\n  }, {\n    key: \"_startPolling\",\n    value: function _startPolling() {\n      this.pollingInterval = setInterval(this.update, 300);\n    }\n  }, {\n    key: \"_stopPolling\",\n    value: function _stopPolling() {\n      if (this.pollingInterval) {\n        clearInterval(this.pollingInterval);\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(name) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!options.doNotUpdate) {\n        this.update();\n      }\n\n      return readCookie(this.cookies[name], options);\n    }\n  }, {\n    key: \"getAll\",\n    value: function getAll() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!options.doNotUpdate) {\n        this.update();\n      }\n\n      var result = {};\n\n      for (var name in this.cookies) {\n        result[name] = readCookie(this.cookies[name], options);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"set\",\n    value: function set(name, value, options) {\n      if (options) {\n        options = Object.assign(Object.assign({}, this.defaultSetOptions), options);\n      } else {\n        options = this.defaultSetOptions;\n      }\n\n      var stringValue = typeof value === 'string' ? value : JSON.stringify(value);\n      this.cookies = Object.assign(Object.assign({}, this.cookies), _defineProperty({}, name, stringValue));\n\n      if (this.HAS_DOCUMENT_COOKIE) {\n        document.cookie = cookie.serialize(name, stringValue, options);\n      }\n\n      this._emitChange({\n        name: name,\n        value: value,\n        options: options\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(name, options) {\n      var finalOptions = options = Object.assign(Object.assign({}, options), {\n        expires: new Date(1970, 1, 1, 0, 0, 1),\n        maxAge: 0\n      });\n      this.cookies = Object.assign({}, this.cookies);\n      delete this.cookies[name];\n\n      if (this.HAS_DOCUMENT_COOKIE) {\n        document.cookie = cookie.serialize(name, '', finalOptions);\n      }\n\n      this._emitChange({\n        name: name,\n        value: undefined,\n        options: options\n      });\n    }\n  }, {\n    key: \"addChangeListener\",\n    value: function addChangeListener(callback) {\n      this.changeListeners.push(callback);\n\n      if (this.changeListeners.length === 1) {\n        if (typeof window === 'object' && 'cookieStore' in window) {\n          window.cookieStore.addEventListener('change', this.update);\n        } else {\n          this._startPolling();\n        }\n      }\n    }\n  }, {\n    key: \"removeChangeListener\",\n    value: function removeChangeListener(callback) {\n      var idx = this.changeListeners.indexOf(callback);\n\n      if (idx >= 0) {\n        this.changeListeners.splice(idx, 1);\n      }\n\n      if (this.changeListeners.length === 0) {\n        if (typeof window === 'object' && 'cookieStore' in window) {\n          window.cookieStore.removeEventListener('change', this.update);\n        } else {\n          this._stopPolling();\n        }\n      }\n    }\n  }]);\n\n  return Cookies;\n}();\n\nexport { Cookies as default };","map":{"version":3,"sources":["/Users/xiuhuiwang/Documents/USF/CS686_CloudComputing/final/mld/node_modules/universal-cookie/es6/Cookies.js"],"names":["cookie","hasDocumentCookie","parseCookies","readCookie","Cookies","cookies","defaultSetOptions","changeListeners","HAS_DOCUMENT_COOKIE","update","previousCookies","parse","document","_checkChanges","domCookies","params","i","length","newCookies","names","Set","Object","keys","concat","forEach","name","_emitChange","value","pollingInterval","setInterval","clearInterval","options","doNotUpdate","result","assign","stringValue","JSON","stringify","serialize","finalOptions","expires","Date","maxAge","undefined","callback","push","window","cookieStore","addEventListener","_startPolling","idx","indexOf","splice","removeEventListener","_stopPolling"],"mappings":"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","sourcesContent":["import * as cookie from 'cookie';\nimport { hasDocumentCookie, parseCookies, readCookie } from './utils';\nexport default class Cookies {\n    constructor(cookies, defaultSetOptions = {}) {\n        this.changeListeners = [];\n        this.HAS_DOCUMENT_COOKIE = false;\n        this.update = () => {\n            if (!this.HAS_DOCUMENT_COOKIE) {\n                return;\n            }\n            const previousCookies = this.cookies;\n            this.cookies = cookie.parse(document.cookie);\n            this._checkChanges(previousCookies);\n        };\n        const domCookies = typeof document === 'undefined' ? '' : document.cookie;\n        this.cookies = parseCookies(cookies || domCookies);\n        this.defaultSetOptions = defaultSetOptions;\n        this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\n    }\n    _emitChange(params) {\n        for (let i = 0; i < this.changeListeners.length; ++i) {\n            this.changeListeners[i](params);\n        }\n    }\n    _checkChanges(newCookies) {\n        const names = new Set(Object.keys(newCookies).concat(Object.keys(this.cookies)));\n        names.forEach((name) => {\n            if (newCookies[name] !== this.cookies[name]) {\n                this._emitChange({\n                    name,\n                    value: readCookie(newCookies[name]),\n                });\n            }\n        });\n    }\n    _startPolling() {\n        this.pollingInterval = setInterval(this.update, 300);\n    }\n    _stopPolling() {\n        if (this.pollingInterval) {\n            clearInterval(this.pollingInterval);\n        }\n    }\n    get(name, options = {}) {\n        if (!options.doNotUpdate) {\n            this.update();\n        }\n        return readCookie(this.cookies[name], options);\n    }\n    getAll(options = {}) {\n        if (!options.doNotUpdate) {\n            this.update();\n        }\n        const result = {};\n        for (let name in this.cookies) {\n            result[name] = readCookie(this.cookies[name], options);\n        }\n        return result;\n    }\n    set(name, value, options) {\n        if (options) {\n            options = Object.assign(Object.assign({}, this.defaultSetOptions), options);\n        }\n        else {\n            options = this.defaultSetOptions;\n        }\n        const stringValue = typeof value === 'string' ? value : JSON.stringify(value);\n        this.cookies = Object.assign(Object.assign({}, this.cookies), { [name]: stringValue });\n        if (this.HAS_DOCUMENT_COOKIE) {\n            document.cookie = cookie.serialize(name, stringValue, options);\n        }\n        this._emitChange({ name, value, options });\n    }\n    remove(name, options) {\n        const finalOptions = (options = Object.assign(Object.assign({}, options), { expires: new Date(1970, 1, 1, 0, 0, 1), maxAge: 0 }));\n        this.cookies = Object.assign({}, this.cookies);\n        delete this.cookies[name];\n        if (this.HAS_DOCUMENT_COOKIE) {\n            document.cookie = cookie.serialize(name, '', finalOptions);\n        }\n        this._emitChange({ name, value: undefined, options });\n    }\n    addChangeListener(callback) {\n        this.changeListeners.push(callback);\n        if (this.changeListeners.length === 1) {\n            if (typeof window === 'object' && 'cookieStore' in window) {\n                window.cookieStore.addEventListener('change', this.update);\n            }\n            else {\n                this._startPolling();\n            }\n        }\n    }\n    removeChangeListener(callback) {\n        const idx = this.changeListeners.indexOf(callback);\n        if (idx >= 0) {\n            this.changeListeners.splice(idx, 1);\n        }\n        if (this.changeListeners.length === 0) {\n            if (typeof window === 'object' && 'cookieStore' in window) {\n                window.cookieStore.removeEventListener('change', this.update);\n            }\n            else {\n                this._stopPolling();\n            }\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}