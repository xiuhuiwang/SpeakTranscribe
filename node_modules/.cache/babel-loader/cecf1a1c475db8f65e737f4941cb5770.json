{"ast":null,"code":"import _asyncToGenerator from\"/Users/xiuhuiwang/Documents/USF/CS686_CloudComputing/final/mld/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/xiuhuiwang/Documents/USF/CS686_CloudComputing/final/mld/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/xiuhuiwang/Documents/USF/CS686_CloudComputing/final/mld/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import NavBar from'../components/Navbar/NavBar';import Footer from'../components/Footer';import{useDocTitle}from'../components/CustomHook';import axios from'axios';// import emailjs from 'emailjs-com';\nimport Notiflix from'notiflix';import Cookies from'universal-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Messages=function Messages(props){var cookies=new Cookies();var id_token=cookies.get('id_token');var email=cookies.get('email');var _useState=useState([]),_useState2=_slicedToArray(_useState,2),jsonData=_useState2[0],setJsonData=_useState2[1];useEffect(function(){axios({method:\"get\",// url: UPLOAD_AUDIO_TO_S3_API + BUCKET_NAME + email + \"-\" + timestamp + \".\" + fileExtension,\n// url: \"https://wpfyc71o76.execute-api.us-west-2.amazonaws.com/dev/messages?email=xwang247usfcaedu\",\nurl:\"https://wpfyc71o76.execute-api.us-west-2.amazonaws.com/dev/messages?email=\"+email,headers:{'Authorization':id_token}}).then(function(response){return response.data;}).then(function(data){setJsonData(data);}).catch(function(error){return console.error('Error fetching data:',error);});},[]);var deleteItem=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(message_id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.delete(\"https://wpfyc71o76.execute-api.us-west-2.amazonaws.com/dev/messages\",{headers:{'Authorization':id_token},data:{\"email\":email,\"message_id\":message_id}});case 3:// Update the state to reflect the deletion\nsetJsonData(function(prevData){return prevData.filter(function(item){return item.id!==message_id;});});// Show success notification\nNotiflix.Notify.success('Item deleted successfully');_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error('Error deleting item:',_context.t0);// Show error notification\nNotiflix.Notify.failure('Error deleting item');case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function deleteItem(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NavBar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center mt-8 w-full bg-white py-12 lg:py-24\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto my-8 px-4 lg:px-20\",\"data-aos\":\"zoom-in\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"w-12 text-left bg-gray-300 text-[#013289] p-2 font-bold\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"w-32 text-left bg-gray-300 text-[#013289] p-2 font-bold\",children:\"Date & Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-gray-300 text-[#013289] p-2 font-bold\",children:\"Message\"}),/*#__PURE__*/_jsx(\"th\",{className:\"w-20 text-left bg-gray-300 text-[#013289] p-2 font-bold\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:jsonData.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:item.id}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:item.datetime}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:item.message}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteItem(item.id);},className:\"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded\",children:\"Delete\"})})]},item.id);})})]})})}),/*#__PURE__*/_jsx(Footer,{})]});// useDocTitle('SpeakTranscribe | Upload your audio file')\n// const [firstName, setFirstName] = useState('')\n// const [lastName, setLastName] = useState('')\n// const [email, setEmail] = useState('')\n// const [phone, setPhone] = useState('')\n// const [message, setMessage] = useState('')\n// const [demoProducts, setDemoProducts ] = useState([])\n// const [errors, setErrors] = useState([])\n// const handleChange = (e) => {\n//     const value = e.target.value\n//     const checked = e.target.checked\n//     errors.products = []\n//     if(checked) {\n//         setDemoProducts([\n//             ...demoProducts, value\n//         ])\n//     } else {\n//         setDemoProducts(demoProducts.filter( (e) => (e !== value )))\n//     }\n// }\n// const clearErrors = () => {\n//     setErrors([])\n// }\n// const clearInput = () => {\n//     setFirstName('')\n//     setLastName('')\n//     setEmail('')\n//     setPhone('')\n//     setMessage('')\n// }\n// function sendEmail(e) {\n//     e.preventDefault();\n//     document.getElementById('submitBtn').disabled = true;\n//     document.getElementById('submitBtn').innerHTML = 'Loading...';\n//     let fData = new FormData();\n//     fData.append('first_name', firstName)\n//     fData.append('last_name', lastName)\n//     fData.append('email', email)\n//     fData.append('phone_number', phone)\n//     fData.append('message', message)\n//     fData.append('products', demoProducts)\n//     axios({\n//         method: \"post\",\n//         url: process.env.REACT_APP_DEMO_REQUEST_API,\n//         data: fData,\n//         headers: {\n//             'Content-Type':  'multipart/form-data'\n//         }\n//     })\n//     .then(function (response) {\n//         document.getElementById('submitBtn').disabled = false;\n//         document.getElementById('submitBtn').innerHTML = 'send message';\n//         clearInput()\n//         //handle success\n//         Notiflix.Report.success(\n//             'Success',\n//             response.data.message,\n//             'Okay',\n//         );\n//     })\n//     .catch(function (error) {\n//         document.getElementById('submitBtn').disabled = false;\n//         document.getElementById('submitBtn').innerHTML = 'send message';\n//         //handle error\n//         const { response } = error;\n//         if(response.status === 500) {\n//             Notiflix.Report.failure(\n//                 'An error occurred',\n//                 response.data.message,\n//                 'Okay',\n//             );\n//         }\n//         if(response.data.errors !== null) {\n//             setErrors(response.data.errors)\n//         }\n//     });\n// }\n// return (\n//     <>\n//         <div>\n//             <NavBar />\n//         </div>\n//         <div className=\"flex justify-center items-center mt-8 w-full bg-white py-12 lg:py-24\">\n//             <div className=\"container mx-auto my-8 px-4 lg:px-20\" data-aos=\"zoom-in\">\n//                 <form onSubmit={sendEmail} id=\"demoProductForm\">\n//                     <div className=\"w-full bg-white p-8 my-4 md:px-12 lg:w-9/12 lg:pl-20 lg:pr-40 mr-auto rounded-2xl shadow-2xl\">\n//                         <div className=\"flex\">\n//                             <h1 className=\"font-bold text-center lg:text-left text-blue-900 uppercase text-4xl\">Demo our products</h1>\n//                         </div>\n//                         <div className=\"flex items-center my-4\">\n//                             <input \n//                                 id=\"checkbox-1\" \n//                                 aria-describedby=\"checkbox-1\" \n//                                 type=\"checkbox\" \n//                                 className=\"bg-gray-50 border-gray-300 focus:ring-3 focus:ring-blue-300 h-4 w-4 rounded\" \n//                                 value=\"business_management_system\" onChange={handleChange}\n//                              />\n//                             <label htmlFor=\"checkbox-1\" className=\"ml-3 text-lg font-medium text-gray-900\">Business Management System</label>\n//                         </div>\n//                         <div className=\"flex items-center my-4\">\n//                             <input \n//                                 id=\"checkbox-1\" \n//                                 aria-describedby=\"checkbox-1\" \n//                                 type=\"checkbox\" \n//                                 className=\"bg-gray-50 border-gray-300 focus:ring-3 focus:ring-blue-300 h-4 w-4 rounded\"\n//                                 value=\"school_management_portal\" onChange={handleChange}\n//                                 />\n//                             <label htmlFor=\"checkbox-1\" className=\"ml-3 text-lg font-medium text-gray-900\">School Management Portal</label>\n//                         </div>\n//                         <div className=\"flex items-center my-4\">\n//                             <input \n//                                 id=\"checkbox-1\" \n//                                 aria-describedby=\"checkbox-1\" \n//                                 type=\"checkbox\" \n//                                 className=\"bg-gray-50 border-gray-300 focus:ring-3 focus:ring-blue-300 h-4 w-4 rounded\" \n//                                 value=\"payroll_management_system\" onChange={handleChange}\n//                             />\n//                             <label htmlFor=\"checkbox-1\" className=\"ml-3 text-lg font-medium text-gray-900\">Payroll Management System</label>\n//                         </div>\n//                         <div className=\"flex items-center my-4\">\n//                             <input \n//                                 id=\"checkbox-1\" \n//                                 aria-describedby=\"checkbox-1\" \n//                                 type=\"checkbox\" \n//                                 className=\"bg-gray-50 border-gray-300 focus:ring-3 focus:ring-blue-300 h-4 w-4 rounded\"\n//                                 value=\"event_management_system\" onChange={handleChange}\n//                             />\n//                             <label htmlFor=\"checkbox-1\" className=\"ml-3 text-lg font-medium text-gray-900\">Event Management System</label>\n//                         </div>\n//                         {errors && \n//                             <p className=\"text-red-500 text-sm\">{errors.products}</p>\n//                         }\n//                     <div className=\"grid grid-cols-1 gap-5 md:grid-cols-2 mt-5\">\n//                             <div>\n//                                 <input \n//                                     name=\"first_name\" \n//                                     className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n//                                     type=\"text\" \n//                                     placeholder=\"First Name*\" \n//                                     value={firstName}\n//                                     onChange={(e)=> setFirstName(e.target.value)}\n//                                     onKeyUp={clearErrors}\n//                                 />\n//                                 {errors && \n//                                     <p className=\"text-red-500 text-sm\">{errors.first_name}</p>\n//                                 }\n//                             </div>\n//                             <div>\n//                                 <input \n//                                     name=\"last_name\" \n//                                     className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n//                                     type=\"text\" \n//                                     placeholder=\"Last Name*\"\n//                                     value={lastName}\n//                                     onChange={(e)=> setLastName(e.target.value)}\n//                                     onKeyUp={clearErrors}\n//                                 />\n//                                 {errors && \n//                                     <p className=\"text-red-500 text-sm\">{errors.last_name}</p>\n//                                 }\n//                             </div>\n//                             <div>\n//                                 <input \n//                                     name=\"email\"\n//                                     className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n//                                     type=\"email\" \n//                                     placeholder=\"Email*\"\n//                                     value={email}\n//                                     onChange={(e)=> setEmail(e.target.value)}\n//                                     onKeyUp={clearErrors}   \n//                                 />\n//                                 {errors && \n//                                     <p className=\"text-red-500 text-sm\">{errors.email}</p>\n//                                 }\n//                             </div>\n//                             <div>\n//                                 <input\n//                                     name=\"phone_number\" \n//                                     className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n//                                     type=\"number\" \n//                                     placeholder=\"Phone*\"\n//                                     value={phone}\n//                                     onChange={(e)=> setPhone(e.target.value)}\n//                                     onKeyUp={clearErrors}\n//                                 />\n//                                 {errors && \n//                                     <p className=\"text-red-500 text-sm\">{errors.phone_number}</p>\n//                                 }\n//                             </div>\n//                     </div>\n//                     <div className=\"my-4\">\n//                         <textarea \n//                             name=\"message\" \n//                             placeholder=\"Message*\" \n//                             className=\"w-full h-32 bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n//                             value={message}\n//                             onChange={(e)=> setMessage(e.target.value)}\n//                             onKeyUp={clearErrors}\n//                         ></textarea>\n//                         {errors && \n//                             <p className=\"text-red-500 text-sm\">{errors.message}</p>\n//                         }\n//                     </div>\n//                     <div className=\"my-2 w-1/2 lg:w-2/4\">\n//                         <button type=\"submit\" id=\"submitBtn\" className=\"uppercase text-sm font-bold tracking-wide bg-gray-500 hover:bg-blue-900 text-gray-100 p-3 rounded-lg w-full \n//                                 focus:outline-none focus:shadow-outline\">\n//                             Send Message\n//                         </button>\n//                     </div>\n//                 </div>\n//                 </form>\n//                 <div className=\"w-full  lg:-mt-96 lg:w-2/6 px-8 py-6 ml-auto bg-blue-900 rounded-2xl\">\n//                     <div className=\"flex flex-col text-white\">     \n//                         <div className=\"flex my-4 w-2/3 lg:w-3/4\">\n//                             <div className=\"flex flex-col\">\n//                                 <i className=\"fas fa-map-marker-alt pt-2 pr-2\" />\n//                             </div>\n//                             <div className=\"flex flex-col\">\n//                                 <h2 className=\"text-2xl\">Office Address</h2>\n//                                 <p className=\"text-gray-400\">Ilo Awela, Ota, Ogun State</p>\n//                             </div>\n//                         </div>\n//                         <div className=\"flex my-4 w-2/3 lg:w-1/2\">\n//                             <div className=\"flex flex-col\">\n//                             <i className=\"fas fa-phone-alt pt-2 pr-2\" />\n//                             </div>\n//                             <div className=\"flex flex-col\">\n//                                 <h2 className=\"text-2xl\">Call Us</h2>\n//                                 <p className=\"text-gray-400\">Tel: 08055384406</p>\n//                                 <div className='mt-5'>\n//                                     <h2 className=\"text-2xl\">Send an E-mail</h2>\n//                                     <p className=\"text-gray-400\">info@mld.ng</p>\n//                                 </div>\n//                             </div>\n//                         </div>\n//                         <div className=\"flex my-4 w-2/3 lg:w-1/2\">\n//                             <a href=\"https://www.facebook.com/ENLIGHTENEERING/\" target=\"_blank\" rel=\"noreferrer\" className=\"rounded-full flex justify-center bg-white h-8 text-blue-900  w-8 inline-block mx-1 text-center pt-1\">\n//                             <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" className='fill-current font-black hover:animate-pulse'><path d=\"M13.397 20.997v-8.196h2.765l.411-3.209h-3.176V7.548c0-.926.258-1.56 1.587-1.56h1.684V3.127A22.336 22.336 0 0 0 14.201 3c-2.444 0-4.122 1.492-4.122 4.231v2.355H7.332v3.209h2.753v8.202h3.312z\"></path></svg>\n//                             </a>\n//                             <a href=\"https://www.linkedin.com/company/enlighteneering-inc-\" target=\"_blank\" rel=\"noreferrer\" className=\"rounded-full flex justify-center bg-white h-8 text-blue-900  w-8 inline-block mx-1 text-center pt-1\">\n//                             <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" className='fill-current font-black hover:animate-pulse'><circle cx=\"4.983\" cy=\"5.009\" r=\"2.188\"></circle><path d=\"M9.237 8.855v12.139h3.769v-6.003c0-1.584.298-3.118 2.262-3.118 1.937 0 1.961 1.811 1.961 3.218v5.904H21v-6.657c0-3.27-.704-5.783-4.526-5.783-1.835 0-3.065 1.007-3.568 1.96h-.051v-1.66H9.237zm-6.142 0H6.87v12.139H3.095z\"></path></svg>\n//                             </a>\n//                         </div>\n//                     </div>\n//                 </div>\n//             </div>\n//         </div>\n//         <Footer />\n//     </>\n// )\n};export default Messages;","map":{"version":3,"sources":["/Users/xiuhuiwang/Documents/USF/CS686_CloudComputing/final/mld/src/pages/Messages.js"],"names":["React","useState","useEffect","NavBar","Footer","useDocTitle","axios","Notiflix","Cookies","Messages","props","cookies","id_token","get","email","jsonData","setJsonData","method","url","headers","then","response","data","catch","error","console","deleteItem","message_id","delete","prevData","filter","item","id","Notify","success","failure","map","datetime","message"],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACH,CAzWD,CA2WA,cAAevB,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport NavBar from '../components/Navbar/NavBar';\nimport Footer from '../components/Footer';\nimport {useDocTitle} from '../components/CustomHook';\nimport axios from 'axios';\n// import emailjs from 'emailjs-com';\nimport Notiflix from 'notiflix';\nimport Cookies from 'universal-cookie';\n      \nconst Messages = (props) => {\n    const cookies = new Cookies();\n    const id_token = cookies.get('id_token');\n    const email = cookies.get('email');\n\n    const [jsonData, setJsonData] = useState([]);\n\n    useEffect(() => {\n        axios({\n            method: \"get\",\n            // url: UPLOAD_AUDIO_TO_S3_API + BUCKET_NAME + email + \"-\" + timestamp + \".\" + fileExtension,\n            // url: \"https://wpfyc71o76.execute-api.us-west-2.amazonaws.com/dev/messages?email=xwang247usfcaedu\",\n            url: \"https://wpfyc71o76.execute-api.us-west-2.amazonaws.com/dev/messages?email=\" + email,\n            headers: {\n                'Authorization': id_token\n            }\n        })\n        .then(\n            response => response.data)\n        .then(data => {\n            setJsonData(data); \n        })\n        .catch(error => console.error('Error fetching data:', error));\n    }, []);\n\n    const deleteItem = async (message_id) => {\n        \n        try {\n            // Send delete request to API using the ID\n            await axios.delete(`https://wpfyc71o76.execute-api.us-west-2.amazonaws.com/dev/messages`, {\n                headers: {\n                    'Authorization': id_token\n                },\n                data: { \n                    \"email\": email,\n                    \"message_id\": message_id\n                }\n            });\n\n            // Update the state to reflect the deletion\n            setJsonData(prevData => prevData.filter(item => item.id !== message_id));\n\n            // Show success notification\n            Notiflix.Notify.success('Item deleted successfully');\n        } catch (error) {\n            console.error('Error deleting item:', error);\n            // Show error notification\n            Notiflix.Notify.failure('Error deleting item');\n        }\n    };\n\n    return (\n        <>\n            <div>\n                <NavBar />\n            </div>\n\n            <div className=\"flex justify-center items-center mt-8 w-full bg-white py-12 lg:py-24\">\n                <div className=\"container mx-auto my-8 px-4 lg:px-20\" data-aos=\"zoom-in\">\n                            <table className='w-full border'>\n                                <thead>\n                                <tr>\n                                    <th className='w-12 text-left bg-gray-300 text-[#013289] p-2 font-bold'>ID</th>\n                                    <th className='w-32 text-left bg-gray-300 text-[#013289] p-2 font-bold'>Date & Time</th>\n                                    <th className='bg-gray-300 text-[#013289] p-2 font-bold'>Message</th>\n                                    <th className='w-20 text-left bg-gray-300 text-[#013289] p-2 font-bold'>Action</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                {jsonData.map(item => (\n                                    <tr key={item.id}>\n                                        <td className='border p-2'>{item.id}</td>\n                                        <td className='border p-2'>{item.datetime}</td>\n                                        <td className='border p-2'>{item.message}</td>\n                                        {/* delete button */}\n                                        <td className='border p-2'>\n                                            <button onClick={() => deleteItem(item.id)} className='bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded'>Delete</button>\n                                        </td>\n                                    </tr>\n                                ))}\n                                </tbody>\n                            </table>\n                </div>\n            </div>\n            <Footer />\n        </>\n       \n    );\n\n\n\n    // useDocTitle('SpeakTranscribe | Upload your audio file')\n\n    // const [firstName, setFirstName] = useState('')\n    // const [lastName, setLastName] = useState('')\n    // const [email, setEmail] = useState('')\n    // const [phone, setPhone] = useState('')\n    // const [message, setMessage] = useState('')\n    // const [demoProducts, setDemoProducts ] = useState([])\n    // const [errors, setErrors] = useState([])\n\n\n    // const handleChange = (e) => {\n    //     const value = e.target.value\n    //     const checked = e.target.checked\n    //     errors.products = []\n    //     if(checked) {\n    //         setDemoProducts([\n    //             ...demoProducts, value\n    //         ])\n    //     } else {\n    //         setDemoProducts(demoProducts.filter( (e) => (e !== value )))\n    //     }\n       \n    // }\n    // const clearErrors = () => {\n    //     setErrors([])\n    // }\n\n    // const clearInput = () => {\n    //     setFirstName('')\n    //     setLastName('')\n    //     setEmail('')\n    //     setPhone('')\n    //     setMessage('')\n    // }\n    \n    // function sendEmail(e) {\n    //     e.preventDefault();\n    //     document.getElementById('submitBtn').disabled = true;\n    //     document.getElementById('submitBtn').innerHTML = 'Loading...';\n    //     let fData = new FormData();\n    //     fData.append('first_name', firstName)\n    //     fData.append('last_name', lastName)\n    //     fData.append('email', email)\n    //     fData.append('phone_number', phone)\n    //     fData.append('message', message)\n    //     fData.append('products', demoProducts)\n\n\n    //     axios({\n    //         method: \"post\",\n    //         url: process.env.REACT_APP_DEMO_REQUEST_API,\n    //         data: fData,\n    //         headers: {\n    //             'Content-Type':  'multipart/form-data'\n    //         }\n    //     })\n    //     .then(function (response) {\n    //         document.getElementById('submitBtn').disabled = false;\n    //         document.getElementById('submitBtn').innerHTML = 'send message';\n    //         clearInput()\n    //         //handle success\n    //         Notiflix.Report.success(\n    //             'Success',\n    //             response.data.message,\n    //             'Okay',\n    //         );\n    //     })\n    //     .catch(function (error) {\n    //         document.getElementById('submitBtn').disabled = false;\n    //         document.getElementById('submitBtn').innerHTML = 'send message';\n    //         //handle error\n    //         const { response } = error;\n    //         if(response.status === 500) {\n    //             Notiflix.Report.failure(\n    //                 'An error occurred',\n    //                 response.data.message,\n    //                 'Okay',\n    //             );\n    //         }\n    //         if(response.data.errors !== null) {\n    //             setErrors(response.data.errors)\n    //         }\n            \n    //     });\n    // }\n    // return (\n    //     <>\n    //         <div>\n    //             <NavBar />\n    //         </div>\n    //         <div className=\"flex justify-center items-center mt-8 w-full bg-white py-12 lg:py-24\">\n    //             <div className=\"container mx-auto my-8 px-4 lg:px-20\" data-aos=\"zoom-in\">\n    //                 <form onSubmit={sendEmail} id=\"demoProductForm\">\n    //                     <div className=\"w-full bg-white p-8 my-4 md:px-12 lg:w-9/12 lg:pl-20 lg:pr-40 mr-auto rounded-2xl shadow-2xl\">\n    //                         <div className=\"flex\">\n    //                             <h1 className=\"font-bold text-center lg:text-left text-blue-900 uppercase text-4xl\">Demo our products</h1>\n    //                         </div>\n    //                         <div className=\"flex items-center my-4\">\n    //                             <input \n    //                                 id=\"checkbox-1\" \n    //                                 aria-describedby=\"checkbox-1\" \n    //                                 type=\"checkbox\" \n    //                                 className=\"bg-gray-50 border-gray-300 focus:ring-3 focus:ring-blue-300 h-4 w-4 rounded\" \n    //                                 value=\"business_management_system\" onChange={handleChange}\n    //                              />\n    //                             <label htmlFor=\"checkbox-1\" className=\"ml-3 text-lg font-medium text-gray-900\">Business Management System</label>\n    //                         </div>\n    //                         <div className=\"flex items-center my-4\">\n    //                             <input \n    //                                 id=\"checkbox-1\" \n    //                                 aria-describedby=\"checkbox-1\" \n    //                                 type=\"checkbox\" \n    //                                 className=\"bg-gray-50 border-gray-300 focus:ring-3 focus:ring-blue-300 h-4 w-4 rounded\"\n    //                                 value=\"school_management_portal\" onChange={handleChange}\n    //                                 />\n    //                             <label htmlFor=\"checkbox-1\" className=\"ml-3 text-lg font-medium text-gray-900\">School Management Portal</label>\n    //                         </div>\n    //                         <div className=\"flex items-center my-4\">\n    //                             <input \n    //                                 id=\"checkbox-1\" \n    //                                 aria-describedby=\"checkbox-1\" \n    //                                 type=\"checkbox\" \n    //                                 className=\"bg-gray-50 border-gray-300 focus:ring-3 focus:ring-blue-300 h-4 w-4 rounded\" \n    //                                 value=\"payroll_management_system\" onChange={handleChange}\n    //                             />\n    //                             <label htmlFor=\"checkbox-1\" className=\"ml-3 text-lg font-medium text-gray-900\">Payroll Management System</label>\n    //                         </div>\n    //                         <div className=\"flex items-center my-4\">\n    //                             <input \n    //                                 id=\"checkbox-1\" \n    //                                 aria-describedby=\"checkbox-1\" \n    //                                 type=\"checkbox\" \n    //                                 className=\"bg-gray-50 border-gray-300 focus:ring-3 focus:ring-blue-300 h-4 w-4 rounded\"\n    //                                 value=\"event_management_system\" onChange={handleChange}\n    //                             />\n    //                             <label htmlFor=\"checkbox-1\" className=\"ml-3 text-lg font-medium text-gray-900\">Event Management System</label>\n    //                         </div>\n    //                         {errors && \n    //                             <p className=\"text-red-500 text-sm\">{errors.products}</p>\n    //                         }\n\n    //                     <div className=\"grid grid-cols-1 gap-5 md:grid-cols-2 mt-5\">\n    //                             <div>\n    //                                 <input \n    //                                     name=\"first_name\" \n    //                                     className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n    //                                     type=\"text\" \n    //                                     placeholder=\"First Name*\" \n    //                                     value={firstName}\n    //                                     onChange={(e)=> setFirstName(e.target.value)}\n    //                                     onKeyUp={clearErrors}\n    //                                 />\n    //                                 {errors && \n    //                                     <p className=\"text-red-500 text-sm\">{errors.first_name}</p>\n    //                                 }\n    //                             </div>\n                                \n    //                             <div>\n    //                                 <input \n    //                                     name=\"last_name\" \n    //                                     className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n    //                                     type=\"text\" \n    //                                     placeholder=\"Last Name*\"\n    //                                     value={lastName}\n    //                                     onChange={(e)=> setLastName(e.target.value)}\n    //                                     onKeyUp={clearErrors}\n    //                                 />\n    //                                 {errors && \n    //                                     <p className=\"text-red-500 text-sm\">{errors.last_name}</p>\n    //                                 }\n    //                             </div>\n\n    //                             <div>\n    //                                 <input \n    //                                     name=\"email\"\n    //                                     className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n    //                                     type=\"email\" \n    //                                     placeholder=\"Email*\"\n    //                                     value={email}\n    //                                     onChange={(e)=> setEmail(e.target.value)}\n    //                                     onKeyUp={clearErrors}   \n    //                                 />\n    //                                 {errors && \n    //                                     <p className=\"text-red-500 text-sm\">{errors.email}</p>\n    //                                 }\n    //                             </div>\n\n    //                             <div>\n    //                                 <input\n    //                                     name=\"phone_number\" \n    //                                     className=\"w-full bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n    //                                     type=\"number\" \n    //                                     placeholder=\"Phone*\"\n    //                                     value={phone}\n    //                                     onChange={(e)=> setPhone(e.target.value)}\n    //                                     onKeyUp={clearErrors}\n    //                                 />\n    //                                 {errors && \n    //                                     <p className=\"text-red-500 text-sm\">{errors.phone_number}</p>\n    //                                 }\n    //                             </div>\n    //                     </div>\n    //                     <div className=\"my-4\">\n    //                         <textarea \n    //                             name=\"message\" \n    //                             placeholder=\"Message*\" \n    //                             className=\"w-full h-32 bg-gray-100 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline\"\n    //                             value={message}\n    //                             onChange={(e)=> setMessage(e.target.value)}\n    //                             onKeyUp={clearErrors}\n    //                         ></textarea>\n    //                         {errors && \n    //                             <p className=\"text-red-500 text-sm\">{errors.message}</p>\n    //                         }\n    //                     </div>\n    //                     <div className=\"my-2 w-1/2 lg:w-2/4\">\n    //                         <button type=\"submit\" id=\"submitBtn\" className=\"uppercase text-sm font-bold tracking-wide bg-gray-500 hover:bg-blue-900 text-gray-100 p-3 rounded-lg w-full \n    //                                 focus:outline-none focus:shadow-outline\">\n    //                             Send Message\n    //                         </button>\n    //                     </div>\n    //                 </div>\n    //                 </form>\n    //                 <div className=\"w-full  lg:-mt-96 lg:w-2/6 px-8 py-6 ml-auto bg-blue-900 rounded-2xl\">\n    //                     <div className=\"flex flex-col text-white\">     \n    //                         <div className=\"flex my-4 w-2/3 lg:w-3/4\">\n    //                             <div className=\"flex flex-col\">\n    //                                 <i className=\"fas fa-map-marker-alt pt-2 pr-2\" />\n    //                             </div>\n    //                             <div className=\"flex flex-col\">\n    //                                 <h2 className=\"text-2xl\">Office Address</h2>\n    //                                 <p className=\"text-gray-400\">Ilo Awela, Ota, Ogun State</p>\n    //                             </div>\n    //                         </div>\n                            \n    //                         <div className=\"flex my-4 w-2/3 lg:w-1/2\">\n    //                             <div className=\"flex flex-col\">\n    //                             <i className=\"fas fa-phone-alt pt-2 pr-2\" />\n    //                             </div>\n\n    //                             <div className=\"flex flex-col\">\n    //                                 <h2 className=\"text-2xl\">Call Us</h2>\n    //                                 <p className=\"text-gray-400\">Tel: 08055384406</p>\n                                \n    //                                 <div className='mt-5'>\n    //                                     <h2 className=\"text-2xl\">Send an E-mail</h2>\n    //                                     <p className=\"text-gray-400\">info@mld.ng</p>\n    //                                 </div>\n                            \n    //                             </div>\n    //                         </div>\n                            \n    //                         <div className=\"flex my-4 w-2/3 lg:w-1/2\">\n    //                             <a href=\"https://www.facebook.com/ENLIGHTENEERING/\" target=\"_blank\" rel=\"noreferrer\" className=\"rounded-full flex justify-center bg-white h-8 text-blue-900  w-8 inline-block mx-1 text-center pt-1\">\n    //                             <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" className='fill-current font-black hover:animate-pulse'><path d=\"M13.397 20.997v-8.196h2.765l.411-3.209h-3.176V7.548c0-.926.258-1.56 1.587-1.56h1.684V3.127A22.336 22.336 0 0 0 14.201 3c-2.444 0-4.122 1.492-4.122 4.231v2.355H7.332v3.209h2.753v8.202h3.312z\"></path></svg>\n    //                             </a>\n    //                             <a href=\"https://www.linkedin.com/company/enlighteneering-inc-\" target=\"_blank\" rel=\"noreferrer\" className=\"rounded-full flex justify-center bg-white h-8 text-blue-900  w-8 inline-block mx-1 text-center pt-1\">\n    //                             <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" className='fill-current font-black hover:animate-pulse'><circle cx=\"4.983\" cy=\"5.009\" r=\"2.188\"></circle><path d=\"M9.237 8.855v12.139h3.769v-6.003c0-1.584.298-3.118 2.262-3.118 1.937 0 1.961 1.811 1.961 3.218v5.904H21v-6.657c0-3.27-.704-5.783-4.526-5.783-1.835 0-3.065 1.007-3.568 1.96h-.051v-1.66H9.237zm-6.142 0H6.87v12.139H3.095z\"></path></svg>\n    //                             </a>\n    //                         </div>\n    //                     </div>\n    //                 </div>\n    //             </div>\n    //         </div>\n    //         <Footer />\n    //     </>\n\n\n    // )\n}\n\nexport default Messages;"]},"metadata":{},"sourceType":"module"}