{"ast":null,"code":"var _jsxFileName = \"/Users/xiuhuiwang/Documents/USF/CS686_CloudComputing/final/mld/src/pages/Home.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Cta from '../components/Cta';\nimport Footer from '../components/Footer';\nimport Hero from '../components/Hero';\nimport { useLocation } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst decodeJWT = token => {\n  const base64Url = token.split('.')[1];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  const jsonPayload = decodeURIComponent(atob(base64).split('').map(char => '%' + ('00' + char.charCodeAt(0).toString(16)).slice(-2)).join(''));\n  return JSON.parse(jsonPayload);\n};\n\nconst Home = () => {\n  _s();\n\n  // Initialize cookies \n  const cookies = new Cookies();\n  const location = useLocation(); // Try to get the id_token from the url params\n\n  const params = location.hash;\n\n  if (params) {\n    const indexOfIdToken = params.indexOf('id_token=');\n    const indexOfNextAmpersand = params.indexOf('&', indexOfIdToken);\n    const id_token = params.substring(indexOfIdToken + 9, indexOfNextAmpersand);\n\n    if (id_token) {\n      cookies.set('id_token', id_token, {\n        path: '/'\n      });\n      const decodedToken = decodeJWT(id_token);\n      const email = decodedToken.email;\n      email.replace('%40', '@');\n      console.log(email);\n      cookies.set('email', email, {\n        path: '/'\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Hero, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Cta, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/xiuhuiwang/Documents/USF/CS686_CloudComputing/final/mld/src/pages/Home.js"],"names":["React","Cta","Footer","Hero","useLocation","Cookies","decodeJWT","token","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","char","charCodeAt","toString","slice","join","JSON","parse","Home","cookies","location","params","hash","indexOfIdToken","indexOf","indexOfNextAmpersand","id_token","substring","set","path","decodedToken","email","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AAEA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,OAAP,MAAoB,kBAApB;;;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AACzB,QAAMC,SAAS,GAAGD,KAAK,CAACE,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAlB;AACA,QAAMC,MAAM,GAAGF,SAAS,CAACG,OAAV,CAAkB,IAAlB,EAAwB,GAAxB,EAA6BA,OAA7B,CAAqC,IAArC,EAA2C,GAA3C,CAAf;AACA,QAAMC,WAAW,GAAGC,kBAAkB,CAClCC,IAAI,CAACJ,MAAD,CAAJ,CAAcD,KAAd,CAAoB,EAApB,EAAyBM,GAAzB,CAA8BC,IAAD,IAAU,MAAM,CAAC,OAAOA,IAAI,CAACC,UAAL,CAAgB,CAAhB,EAAmBC,QAAnB,CAA4B,EAA5B,CAAR,EAAyCC,KAAzC,CAA+C,CAAC,CAAhD,CAA7C,EAAkGC,IAAlG,CAAuG,EAAvG,CADkC,CAAtC;AAGA,SAAOC,IAAI,CAACC,KAAL,CAAWV,WAAX,CAAP;AACH,CAPD;;AASA,MAAMW,IAAI,GAAG,MAAM;AAAA;;AACf;AACA,QAAMC,OAAO,GAAG,IAAInB,OAAJ,EAAhB;AAEA,QAAMoB,QAAQ,GAAGrB,WAAW,EAA5B,CAJe,CAKf;;AACA,QAAMsB,MAAM,GAAGD,QAAQ,CAACE,IAAxB;;AACA,MAAID,MAAJ,EAAY;AACR,UAAME,cAAc,GAAGF,MAAM,CAACG,OAAP,CAAe,WAAf,CAAvB;AACA,UAAMC,oBAAoB,GAAGJ,MAAM,CAACG,OAAP,CAAe,GAAf,EAAoBD,cAApB,CAA7B;AACA,UAAMG,QAAQ,GAAGL,MAAM,CAACM,SAAP,CAAiBJ,cAAc,GAAG,CAAlC,EAAqCE,oBAArC,CAAjB;;AAEA,QAAIC,QAAJ,EAAc;AACVP,MAAAA,OAAO,CAACS,GAAR,CAAY,UAAZ,EAAwBF,QAAxB,EAAkC;AAAEG,QAAAA,IAAI,EAAE;AAAR,OAAlC;AACA,YAAMC,YAAY,GAAG7B,SAAS,CAACyB,QAAD,CAA9B;AACA,YAAMK,KAAK,GAAGD,YAAY,CAACC,KAA3B;AACAA,MAAAA,KAAK,CAACzB,OAAN,CAAc,KAAd,EAAqB,GAArB;AACA0B,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAZ,MAAAA,OAAO,CAACS,GAAR,CAAY,OAAZ,EAAqBG,KAArB,EAA4B;AAAEF,QAAAA,IAAI,EAAE;AAAR,OAA5B;AACH;AACJ;;AAGD,sBACI;AAAA,4BACI,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA,kBADJ;AAQH,CA/BD;;GAAMX,I;UAIenB,W;;;KAJfmB,I;AAiCN,eAAeA,IAAf","sourcesContent":["import React from 'react';\nimport Cta from '../components/Cta';\nimport Footer from '../components/Footer';\nimport Hero from '../components/Hero';\n\nimport { useLocation } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\n\nconst decodeJWT = (token) => { \n    const base64Url = token.split('.')[1]; \n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/'); \n    const jsonPayload = decodeURIComponent( \n        atob(base64) .split('') .map((char) => '%' + ('00' + char.charCodeAt(0).toString(16)).slice(-2)) .join('') \n        ); \n    return JSON.parse(jsonPayload); \n};\n\nconst Home = () => {\n    // Initialize cookies \n    const cookies = new Cookies();\n\n    const location = useLocation();\n    // Try to get the id_token from the url params\n    const params = location.hash;\n    if (params) {\n        const indexOfIdToken = params.indexOf('id_token=');\n        const indexOfNextAmpersand = params.indexOf('&', indexOfIdToken);\n        const id_token = params.substring(indexOfIdToken + 9, indexOfNextAmpersand);\n\n        if (id_token) {\n            cookies.set('id_token', id_token, { path: '/' });\n            const decodedToken = decodeJWT(id_token);\n            const email = decodedToken.email;\n            email.replace('%40', '@');\n            console.log(email);\n            cookies.set('email', email, { path: '/' });\n        }\n    }\n    \n\n    return (\n        <>\n            <Hero />\n            <Cta/>\n            <Footer />\n        </>\n\n    )\n}\n\nexport default Home;\n\n"]},"metadata":{},"sourceType":"module"}